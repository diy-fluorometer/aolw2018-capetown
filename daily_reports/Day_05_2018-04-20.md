# Plan for the day

* Assemble the case
* Take photos of the assembly process
* Write assembly instructions
* First test measurements with text marker (dilution series)
* Pulsing LED from NodeMCU?
* If there is time: cut the glass filters

# What we did today

## Case assembly

The case assembly is done. We also did a photo series of all assembly steps to include in the assembly instructions. The photos still have to be edited; the raw versions are in this repo in `$REPOROOT/docs/assembly/unedited`.

## Test measurements

We did not get around to doing test measurements yet - there were some changes that needed to be made to the NodeMCU software first.

## Pulsing LED / Cellphone-only approach

In order to power a LED with your phone you need to turn the usb plug of the phone into a "master" that supplies the connected device with the 5 V that usb devices run on. to do that you basically have to buy or build an usb on the go (otg) cable. there are a lot of instructables (http://www.instructables.com/howto/usb+otg+cable/)
The trick is that the micro usb in your phone has 5 pins while a standard usb has 4. 
to turn the micro usb into a "master" you have to short circiut pin 4 and pin 5 as seen in this figure.
+![alt text](https://cdn.instructables.com/FTN/IHEZ/HSRZGLMJ/FTNIHEZHSRZGLMJ.LARGE.jpg "difference between normal usb and usb otg cable")

In our case its enough to get out + and GND and i devised a simpler version where just those pins have cables and pin 4 and 5 are soldered together. As seen here.

+![alt text](https://photos.app.goo.gl/g4whIIBGOh2WmA6y2 "usb otg cable for powering an LED")


+![alt text](https://source.android.com/devices/accessories/headset/images/headset-circuit2.png "pinout for android headphone jack")

## Cutting glass filters

We also did not get around to that today.

## Changes to NodeMCU software

Lisa started to re-work the NodeMCU code; the code is starting to out-grow the basic Arduino sketch scope, so the re-work is mostly about modularizing it to make maintenance and collaboration easier.

* Introduce some data structures
* Pull out the HTML/UI code from the C code
* Define HTTP endpoints more cleanly
* Encapsulate and re-organize the measuring and storing of measurements

